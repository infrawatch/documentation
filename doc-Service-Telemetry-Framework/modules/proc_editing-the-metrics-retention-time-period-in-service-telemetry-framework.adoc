
[id="editing-the-metrics-retention-time-period-in-service-telemetry-framework_{context}"]
= Editing the metrics retention time period in Service Telemetry Framework

[role="_abstract"]
You can adjust {Project} ({ProjectShort}) for additional metrics retention time.

.Procedure

. Log in to {OpenShift}.

. Change to the `openstack-monitoring` namespace:
+
[source,bash,options="nowrap",role="white-space-pre"]
----
$ oc project openstack-monitoring
----

. Edit the ServiceTelemetry object:
+
[source,bash,options="nowrap",role="white-space-pre"]
----
$ oc edit stf default
----

. Add `retention: 7d`  to the storage section of backends.metrics.prometheus.storage to increase the retention period to seven days:
+
[NOTE]
If you set a long retention period, retrieving data from heavily populated Prometheus systems can result in queries returning results slowly.
+
[source,yaml,options="nowrap",role="white-space-pre"]
----
apiVersion: infra.watch/v1beta1
kind: ServiceTelemetry
metadata:
  name: stf-default
  namespace: openstack-monitoring
spec:
  ...
  backends:
    metrics:
      prometheus:
        enabled: true
        storage:
          strategy: persistent
          retention: 7d
    ...
----

. Save your changes and close the object.

.Additional resources

* For more information about the metrics retention time, see xref:metrics-retention-time-period_assembly-advanced-features[].
