[id="subscribing-to-the-service-telemetry-operator_{context}"]
= Subscribing to the Service Telemetry Operator

[role="_abstract"]
You must subscribe to the Service Telemetry Operator, which manages the {ProjectShort} instances.

.Procedure

. Create the Service Telemetry Operator subscription to manage the {ProjectShort} instances:
+
ifeval::["{build}" == "upstream"]
[source,bash]
----
$ oc create -f - <<EOF
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: service-telemetry-operator
  namespace: service-telemetry
spec:
  channel: unstable
  installPlanApproval: Automatic
  name: service-telemetry-operator
  source: infrawatch-operators
  sourceNamespace: openshift-marketplace
EOF
----
endif::[]
ifeval::["{build}" == "downstream"]
[source,bash]
----
$ oc create -f - <<EOF
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: service-telemetry-operator
  namespace: service-telemetry
spec:
  channel: stable-1.3
  installPlanApproval: Automatic
  name: service-telemetry-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
EOF
----
endif::[]


. Validate the Service Telemetry Operator and the dependent operators:
+
[source,bash,options="nowrap"]
----
$ oc get csv --namespace service-telemetry

NAME                                          DISPLAY                                         VERSION          REPLACES                                      PHASE
amq7-cert-manager.v1.0.1                      Red Hat Integration - AMQ Certificate Manager   1.0.1                                                          Succeeded
amq7-interconnect-operator.v1.10.2            Red Hat Integration - AMQ Interconnect          1.10.2                                                         Succeeded
elasticsearch-eck-operator-certified.v1.8.0   Elasticsearch (ECK) Operator                    1.8.0            elasticsearch-eck-operator-certified.v1.7.1   Succeeded
prometheusoperator.0.47.0                     Prometheus Operator                             0.47.0           prometheusoperator.0.37.0                     Succeeded
service-telemetry-operator.v1.4.1632856033    Service Telemetry Operator                      1.4.1632856033                                                 Succeeded
smart-gateway-operator.v4.0.1632856027        Smart Gateway Operator                          4.0.1632856027                                                 Succeeded
----
