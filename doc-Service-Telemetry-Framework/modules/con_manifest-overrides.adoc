// Module included in the following assemblies:
//
// <List assemblies here, each on a new line>

// This module can be included from assemblies using the following include statement:
// include::<path>/con_manifest-overrides.adoc[leveloffset=+1]

// The file name and the ID are based on the module title. For example:
// * file name: con_my-concept-module-a.adoc
// * ID: [id='con_my-concept-module-a_{context}']
// * Title: = My concept module A
//
// The ID is used as an anchor for linking to the module. Avoid changing
// it after the module has been published to ensure existing links are not
// broken.
//
// The `context` attribute enables module reuse. Every module's ID includes
// {context}, which ensures that the module has a unique ID even if it is
// reused multiple times in a guide.
//
// In the title, include nouns that are used in the body text. This helps
// readers and search engines find information quickly.
// Do not start the title with a verb. See also _Wording of headings_
// in _The IBM Style Guide_.
[id="manifest-overrides_{context}"]
= Customizing The Deployment

The Service Telemetry Operator watches for a `ServiceTelemetry` manifest to be loaded into {OpenShiftShort} which then creates other objects in memory to result in the dependent Operators creating the workloads they are responsible for managing.

WARNING: When overriding the manifest the entire manifest contents including object names or namespaces must be provided. No dynamic parameter substitution will be done when overriding manifests.

To override manifests in a way that works with {ProjectShort}, deploy a default environment using the core options only. For more information about the core options, see <<creating-a-servicetelemetry-object-in-openshift>>. When deploying {ProjectShort}, use the `oc get` command to retrieve the default deployed manifest. Using a manifest originally generated by Service Telemetry Operator helps to keep manifests compatible with the other objects that are managed by the Operators.

For example, when the `metricsEnabled: true` parameter is configured in the `ServiceTelemetry` manifest, the Service Telemetry Operator will request components for metrics retrieval and storage using the default manifests. In some cases however you may want to override the default manifest. The available manifest override parameters available are:

|===
| Override Parameter | Description | Retrieval command

| `alertmanagerManifest` | Override the `Alertmanager` object creation. The Prometheus Operator watches for `Alertmanager` objects. | `oc get alertmanager stf-default -oyaml`

| `alertmanagerConfigManifest` | Override the `Secret` that contains the Alertmanager configuration. The Prometheus Operator uses a secret named `alertmanager-{{ alertmanager-name }}` (for example, `stf-default`) to provide the `alertmanager.yaml` configuration to to Alertmanager.  | `oc get secret alertmanager-stf-default -oyaml`

| `elasticsearchManifest` | Override the `ElasticSearch` object creation. The Elastic Cloud on Kuberneters Operator watches for `ElasticSearch` objects. | `oc get elasticsearch elasticsearch -oyaml`

| `interconnectManifest` | Override the `Interconnect` object creation. The AMQ Interconnect Operator watches for `Interconnect` objects. | `oc get interconnect stf-default-interconnect -oyaml`

| `prometheusManifest` | Override the `Prometheus` object creation. The Prometheus Operator watches for `Prometheus` objects. | `oc get prometheus stf-default -oyaml`

| `servicemonitorManifest` | Override the `ServiceMonitor` object creation. The Prometheus Operator watches for `ServiceMonitor` objects. | `oc get servicemonitor stf-default -oyaml`

| `smartgatewayCollectdMetricsManifest` | Override the `SmartGateway` object creation for collectd metrics. The Smart Gateway Operator watches for `SmartGateway` objects. | `oc get smartgateway stf-default-collectd-telemetry -oyaml`

| `smartgatewayCollectdEventsManifest` | Override the `SmartGateway` object creation for collectd events. The Smart Gateway Operator watches for `SmartGateway` objects. | `oc get smartgateway stf-default-collectd-notification -oyaml`

| `smartgatewayCeilometerEventsManifest` | Override the `SmartGateway` object creation for Ceilometer events. The Smart Gateway Operator watches for `SmartGateway` objects. | `oc get smartgateway stf-default-ceilometer-notification -oyaml`

|===
