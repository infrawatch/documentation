<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="generator" content="Asciidoctor 2.0.10"/>
<meta name="author" content="OpenStack Documentation Team"/>
<title>Service Telemetry Framework</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"/>
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Service Telemetry Framework</h1>
<div class="details">
<span id="author" class="author">OpenStack Documentation Team</span><br/>
<span id="email" class="email"><a href="mailto:rhos-docs@redhat.com">rhos-docs@redhat.com</a></span><br/>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction-to-stf_assembly">Introduction to Service&#160;Telemetry&#160;Framework</a>
<ul class="sectlevel2">
<li><a href="#overview-of-stf_introduction-to-stf">Overview of Service&#160;Telemetry&#160;Framework</a></li>
<li><a href="#architecture_introduction-to-stf">STF architecture</a></li>
<li><a href="#installation-size_introduction-to-stf">Installation size</a></li>
</ul>
</li>
<li><a href="#installing-the-core-components-of-stf_introduction-to-stf">Installing the core components of Service&#160;Telemetry&#160;Framework</a>
<ul class="sectlevel2">
<li><a href="#prerequisites-for-stf-deployment_installing-the-core-components-of-stf">Prerequisites for STF deployment</a></li>
<li><a href="#installing-the-core-components-of-stf_installing-the-core-components-of-stf">The core components of STF</a></li>
<li><a href="#preparing-your-openshift-environment-for-stf_installing-the-core-components-of-stf">Preparing your OKD environment for STF</a></li>
<li><a href="#quickstart-script-for-development-usage_installing-the-core-components-of-stf">Quickstart script for development use</a></li>
<li><a href="#generating-a-tls-certificate-for-amq-interconnect_installing-the-core-components-of-stf">Generating a TLS certificate for Apache&#160;Qpid&#160;Dispatch&#160;Router</a></li>
<li><a href="#generating-tls-certificates-for-elasticsearch_installing-the-core-components-of-stf">Generating TLS certificates for ElasticSearch</a></li>
<li><a href="#deploying-stf-to-the-openshift-environment_installing-the-core-components-of-stf">Deploying STF to the OKD environment</a></li>
</ul>
</li>
<li><a href="#completing-the-stf-configuration_installing-the-core-components-of-stf">Completing the Service&#160;Telemetry&#160;Framework configuration</a>
<ul class="sectlevel2">
<li><a href="#setting-up-openstack-on-the-client-side_completing-the-stf-configuration">Configuring OpenStack on the client side</a></li>
<li><a href="#configuring-red-hat-openstack-platform-overcloud-for-stf_completing-the-stf-configuration">Configuring OpenStack overcloud for STF</a></li>
<li><a href="#configuring-red-hat-openstack-platform-overcloud-for-stf-events_completing-the-stf-configuration">Configuring the OpenStack overcloud for STF events</a></li>
<li><a href="#updating-red-hat-openstack-platform-overcloud-for-stf_completing-the-stf-configuration">Updating OpenStack overcloud for STF</a></li>
<li><a href="#conclusion_completing-the-stf-configuration">Completion of server-side installation</a></li>
</ul>
</li>
<li><a href="#configuring-stf-components_completing-the-stf-configuration">Configuring Service&#160;Telemetry&#160;Framework data collection</a></li>
<li><a href="#connecting-multiple-clouds-to-stf_configuring-stf-components">Connecting multiple clouds to Service&#160;Telemetry&#160;Framework</a>
<ul class="sectlevel2">
<li><a href="#configuring-multiple-clouds_connecting-multiple-clouds-to-stf">Configuring multiple clouds</a></li>
<li><a href="#planning-amqp-address-prefixes_connecting-multiple-clouds-to-stf">Planning AMQP address prefixes</a></li>
<li><a href="#deploying-smart-gateways_connecting-multiple-clouds-to-stf">Deploying Smart Gateways</a></li>
<li><a href="#deleting-the-default-smart-gateways_connecting-multiple-clouds-to-stf">Deleting the default Smart Gateways</a></li>
<li><a href="#updating-collectd-configuration_connecting-multiple-clouds-to-stf">Updating collectd configuration</a></li>
<li><a href="#querying-metrics-data-from-multiple-clouds_connecting-multiple-clouds-to-stf">Querying metrics data from multiple clouds</a></li>
<li><a href="#using-the-amq-interconnect-message-bus_connecting-multiple-clouds-to-stf">Using the Apache&#160;Qpid&#160;Dispatch&#160;Router message bus</a></li>
</ul>
</li>
<li><a href="#appe-stf-collectd-plugins">Appendix A: collectd plug-ins</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction-to-stf_assembly">Introduction to Service&#160;Telemetry&#160;Framework</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes Service&#160;Telemetry&#160;Framework and the framework architecture.</p>
</div>
<div class="sect2">
<h3 id="overview-of-stf_introduction-to-stf">Overview of Service&#160;Telemetry&#160;Framework</h3>
<div class="paragraph">
<p>Service&#160;Telemetry&#160;Framework (STF) is an application that runs on the OpenShift
(OKD). Use STF to collect metrics and record events
from the nodes in your systems that you want to monitor. The metrics and event
information travels on a message bus to the server side for storage. Use this
centralized information as the source for alerts, visualization, or the source
of truth for orchestration frameworks.</p>
</div>
</div>
<div class="sect2">
<h3 id="architecture_introduction-to-stf">STF architecture</h3>
<div class="paragraph">
<p>STF uses the following components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>collectd to collect metrics</p>
</li>
<li>
<p>Prometheus as time-series data storage</p>
</li>
<li>
<p>ElasticSearch as events data storage</p>
</li>
<li>
<p>An AMQP 1.x compatible messaging bus to shuttle the metrics to STF for storage in Prometheus</p>
</li>
<li>
<p>Smart Gateway</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following diagram is an overview of STF architecture:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/OpenStack_STF_Overview_37_1019_arch.png" alt="OpenStack STF Overview 37 1019 arch"/>
</div>
</div>
<div class="paragraph">
<p>On the client side, collectd collects high-resolution metrics. collectd delivers the data to Prometheus by using the AMQP1 plugin, which places the data onto the
message bus. On the server side, a Golang application called the Smart Gateway
takes the data stream from the bus and exposes it as a local scrape endpoint
for Prometheus.</p>
</div>
<div class="paragraph">
<p>Server-side STF monitoring infrastructure consists of the following
layers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Service&#160;Telemetry&#160;Framework 1.x (STF)</p>
</li>
<li>
<p>OpenShift (OKD)</p>
</li>
<li>
<p>Infrastructure platform</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/STF_Overview_37_0819_deployment_prereq.png" alt="STF Overview 37 0819 deployment prereq"/>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installation-size_introduction-to-stf">Installation size</h3>
<div class="paragraph">
<p>The size of your installation depends on the following factors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The number of nodes being monitored.</p>
</li>
<li>
<p>The number of metrics being collected.</p>
</li>
<li>
<p>The resolution of metrics.</p>
</li>
<li>
<p>The length of time that you want to store the data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The sizing of the virtual machines for OpenShift has the largest impact
on the hardware requirements, including the number of virtual machines. For
more information about the recommended sizing for the OpenShift nodes, see
<a href="https://docs.openshift.com/container-platform/3.11/install/prerequisites.html#production-level-hardware-requirements">Production
Level Hardware Requirements</a> in the OpenShift Container Platform 3.11 documentation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-the-core-components-of-stf_introduction-to-stf">Installing the core components of Service&#160;Telemetry&#160;Framework</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the prerequisites required for a successful
Service&#160;Telemetry&#160;Framework (STF) installation and describes the installation of the core
STF components.</p>
</div>
<div class="sect2">
<h3 id="prerequisites-for-stf-deployment_installing-the-core-components-of-stf">Prerequisites for STF deployment</h3>
<div class="paragraph">
<p>Complete the following prerequisite tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install a suitable platform on which to install OpenShift (OKD), for
example,
<a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/">Red
Hat OpenStack Platform</a>. If you already have an OKD 3.11
environment, see
<a href="#preparing-your-openshift-environment-for-stf_installing-the-core-components-of-stf">Preparing your OKD environment for STF</a>.</p>
</li>
<li>
<p>Install OKD. For more information, see
<a href="https://access.redhat.com/documentation/en-us/openshift_container_platform/3.11/html/installing_clusters/index">OpenShift
Container Platform 3.11 Installing Clusters</a> in the OpenShift Container Platform 3.11 documentation..</p>
</li>
<li>
<p>Deploy OKD 3.11 client tools and a bastion node, which executes
the supplied bash script to load the components into the <code>sa-telemetry</code>
namespace.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="installing-the-core-components-of-stf_installing-the-core-components-of-stf">The core components of STF</h3>
<div class="paragraph">
<p>When you install STF, use the <code>oc</code> tool or web interface to load Kubernetes
manifests into OKD. The manifests set the required state of objects, for
example, creating a deployment. You can find the manifests for STF
in the <code>deploy/</code> directory of the telemetry-framework release archive.</p>
</div>
<div class="paragraph">
<p>For a copy of the deployment manifests and installation script, see
<a href="https://github.com/infrawatch/telemetry-framework/releases">https://github.com/infrawatch/telemetry-framework/releases</a>.</p>
</div>
<div class="paragraph">
<p>Loading the manifests results in the instantiation of the
<a href="https://coreos.com/blog/introducing-operators.html">Operators</a> into memory.
You can also load additional manifests into memory where the Operators manage
the deployment of application components, their life cycles, application
configurations, and other elements.</p>
</div>
<div class="paragraph">
<p>STF comprises the following core components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prometheus and the AlertManager</p>
</li>
<li>
<p>ElasticSearch</p>
</li>
<li>
<p>Smart Gateway</p>
</li>
<li>
<p>Apache&#160;Qpid&#160;Dispatch&#160;Router</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each component has a corresponding Operator that you can use to load the various
application components and objects.</p>
</div>
<div class="paragraph">
<p>To prepare your environment for STF, complete the following
procedures:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Prepare your OKD environment for STF. For more information, see <a href="#preparing-your-openshift-environment-for-stf_installing-the-core-components-of-stf">Preparing your OKD environment for STF</a>.</p>
</li>
<li>
<p>Generate a TLS certificate for Apache&#160;Qpid&#160;Dispatch&#160;Router. For more information, see
<a href="#generating-a-tls-certificate-for-amq-interconnect_installing-the-core-components-of-stf">Generating a TLS certificate for Apache&#160;Qpid&#160;Dispatch&#160;Router</a>.</p>
</li>
<li>
<p>Generate TLS certificates for ElasticSearch. For more information, see
<a href="#generating-tls-certificates-for-elasticsearch_installing-the-core-components-of-stf">Generating TLS certificates for ElasticSearch</a>.</p>
</li>
<li>
<p>Deploy STF to the OKD environment. For more information, see <a href="#deploying-stf-to-the-openshift-environment_installing-the-core-components-of-stf">Deploying STF to the OKD environment</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="preparing-your-openshift-environment-for-stf_installing-the-core-components-of-stf">Preparing your OKD environment for STF</h3>
<div class="paragraph">
<p>Complete the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to your OKD environment. Create and switch to the <code>sa-telemetry</code> namespace in your OKD environment:</p>
<div class="listingblock">
<div class="content">
<pre>    oc login https://console.service-assurance.tld:8443
    oc new-project sa-telemetry</pre>
</div>
</div>
</li>
<li>
<p>Download the latest release file of the telemetry-framework manifests from <a href="https://github.com/infrawatch/telemetry-framework/releases">https://github.com/infrawatch/telemetry-framework/releases</a>:</p>
<div class="listingblock">
<div class="content">
<pre>    mkdir /&lt;working_directory&gt; ; cd /&lt;working_directory&gt;
    curl --location \
    https://github.com/infrawatch/telemetry-framework/archive/&lt;release_version&gt;.zip -o telemetry-framework.zip</pre>
</div>
</div>
</li>
<li>
<p>Extract the contents and change to that directory:</p>
<div class="listingblock">
<div class="content">
<pre>    unzip telemetry-framework.zip
    cd telemetry-framework-&lt;release_version&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you want to deploy ElasticSearch, as the cluster administrator, you must set <code>vm.max_map_count</code> sysctl to <code>262144</code> on the host level of each node in your cluster before you instantiate an STF instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo sysctl -w vm.max_map_count=262144</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="quickstart-script-for-development-usage_installing-the-core-components-of-stf">Quickstart script for development use</h3>
<div class="paragraph">
<p>You can use a script to deploy STF into an existing OpenShift environment for
development purposes. It is not intended for production environments. The
script runs all of the required steps for a single-cloud setup. Ensure that the
following tools are installed before execution:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ansible 2.7+</p>
</li>
<li>
<p>OpenShift CLI (oc from <a href="https://github.com/openshift/origin/releases/tag/v3.11.0" class="bare">https://github.com/openshift/origin/releases/tag/v3.11.0</a>)</p>
</li>
<li>
<p>openssl</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The script is at the following location: <a href="https://github.com/infrawatch/telemetry-framework/blob/master/deploy/quickstart.sh" class="bare">https://github.com/infrawatch/telemetry-framework/blob/master/deploy/quickstart.sh</a></p>
</div>
</div>
<div class="sect2">
<h3 id="generating-a-tls-certificate-for-amq-interconnect_installing-the-core-components-of-stf">Generating a TLS certificate for Apache&#160;Qpid&#160;Dispatch&#160;Router</h3>
<div class="paragraph">
<p>Use TLS/SSL certificates to route the remote Apache&#160;Qpid&#160;Dispatch&#160;Router connections through the OKD router. The following commands create the appropriate certificate files locally and load the contents into a secret for Apache&#160;Qpid&#160;Dispatch&#160;Router to use. The Apache&#160;Qpid&#160;Dispatch&#160;Router message bus on the client side connects to the route address
(DNS address) for the Apache&#160;Qpid&#160;Dispatch&#160;Router service on port 443.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate an unsigned certificate. If you have a signed certificate to load
into OKD, proceed to step 2.</p>
<div class="listingblock">
<div class="content">
<pre>    openssl req -new -x509 -batch -nodes -days 11000 \
      -subj "/O=io.interconnectedcloud/CN=qdr-white.sa-telemetry.svc.cluster.local" \
      -out /tmp/tls.crt \
      -keyout /tmp/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Use the oc command to import the certificate into OKD:</p>
<div class="listingblock">
<div class="content">
<pre>    oc create secret tls qdr-white-cert \
      --cert=/tmp/tls.crt \
      --key=/tmp/tls.key</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="generating-tls-certificates-for-elasticsearch_installing-the-core-components-of-stf">Generating TLS certificates for ElasticSearch</h3>
<div class="paragraph">
<p>To connect the Smart Gateway to ElasticSearch for events storage, generate certificates and load them as a secret into OKD.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Generate the unsigned certificates. If you have signed certificates to load
into OKD, go to <a href="#deploying-stf-to-the-openshift-environment_installing-the-core-components-of-stf">Deploying STF to the OKD environment</a>.</p>
<div class="listingblock">
<div class="content">
<pre>  WORKING_DIR=./es-certs \  # <b class="conum">(1)</b>
  NAMESPACE="sa-telemetry" \  # <b class="conum">(2)</b>
  ./cert_generation.sh # <b class="conum">(3)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>The directory where the certificates are stored.</p>
</li>
<li>
<p>The OpenShift namespace where the certificates are loaded. This is also used for
hostname generation.</p>
</li>
<li>
<p>The script located in the <code>deploy/</code> directory to help to build the appropriate
certificate, CA, and key files.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="deploying-stf-to-the-openshift-environment_installing-the-core-components-of-stf">Deploying STF to the OKD environment</h3>
<div class="paragraph">
<p>To deploy STF to an OKD environment, complete the
following tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Import the upstream container images into the <code>sa-telemetry</code> namespace by using
the <em>import-upstream.sh</em> script. For more information, see
<a href="#importing-the-container-images-for-stf_installing-the-core-components-of-stf">Importing the container images for STF</a>.</p>
</li>
<li>
<p>Generate the custom manifests by using the Ansible playbook
<code>deploy_builder.yaml</code> and using the <code>ansible-playbook</code> command. For more information,
see <a href="#generating-the-manifests-for-stf_installing-the-core-components-of-stf">Generating the manifests for STF</a>.</p>
</li>
<li>
<p>Execute the <code>deploy.sh</code> script to create the Kubernetes objects in the
OKD environment. For more information, see
<a href="#installing-stf-components-using-a-script_installing-the-core-components-of-stf">Installing STF components using a script</a>.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="importing-the-container-images-for-stf_installing-the-core-components-of-stf">Importing the container images for STF</h4>
<div class="paragraph">
<p>To import the container images as image streams into OKD, run the
following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cd deploy/
./import-downstream.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about image streams, see
<a href="https://docs.openshift.com/container-platform/3.11/architecture/core_concepts/builds_and_image_streams.html#image-streams">Builds
and Image Streams</a> in the OpenShift Container Platform 3.11 documentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="generating-the-manifests-for-stf_installing-the-core-components-of-stf">Generating the manifests for STF</h4>
<div class="paragraph">
<p>Several of the manifests that are required for deployment are dynamically generated by
Ansible.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Ansible version 2.7 or later is recommended.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To generate the additional manifests for STF, log
in to the OKD environment within the <code>sa-telemetry</code>
namespace and run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">ansible-playbook \
-e "registry_path=$(oc registry info)" \
-e "imagestream_namespace=$(oc project --short)" \
deploy_builder.yml</code></pre>
</div>
</div>
</li>
<li>
<p>By default, a persistent volume claim (PVC) of 20G is requested for
Prometheus. To adjust the default PVC size, insert <code>-e
"prometheus_pvc_storage_request=&lt;size_in_gigabytes&gt;G"</code> before
<code>deploy_builder.yml</code> in the command.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can view additional overrides in the <code>deploy/roles/deploy.builder/defaults/main.yml</code> file located in the
telemetry-framework release directory.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="installing-stf-components-using-a-script_installing-the-core-components-of-stf">Installing STF components using a script</h4>
<div class="imageblock">
<div class="content">
<img src="images/STF_Overview_37_0819_deployment_manually.png" alt="STF Overview 37 0819 deployment manually"/>
</div>
</div>
<div class="paragraph">
<p>Before you run the provided script, complete the following
prerequisite actions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to OKD as an administrator and have the <code>oc</code>
tool available in your <code>$PATH</code>. The <code>deploy.sh</code> script performs a validation to
ensure that this is true. The script switches to the <code>sa-telemetry</code> namespace
before deployment. If the script cannot find the <code>sa-telemetry</code> namespace, it attempts
to create the namespace.</p>
</li>
<li>
<p>Extract the contents of the telemetry-framework release archive
and change to the extracted directory. For more information, see
<a href="#preparing-your-openshift-environment-for-stf_installing-the-core-components-of-stf">Preparing your OKD environment for STF</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use the <code>deploy.sh</code> script in the <code>deploy/</code> directory of the telemetry-framework release file that you previously extracted. Run the script to start the various components in your OKD deployment. To remove the components, supply the <code>DELETE</code>
argument to the script.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./deploy.sh</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="completing-the-stf-configuration_installing-the-core-components-of-stf">Completing the Service&#160;Telemetry&#160;Framework configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="setting-up-openstack-on-the-client-side_completing-the-stf-configuration">Configuring OpenStack on the client side</h3>
<div class="paragraph">
<p>To collect metrics, events, or both, and to send them back to the STF
storage domain, you must install collectd and Apache&#160;Qpid&#160;Dispatch&#160;Router on the nodes of an
OpenStack deployment. Configure the OpenStack&#160;Queens TripleO to enable the data collection
functionality and to stream the data to Service&#160;Telemetry&#160;Framework (STF).</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-red-hat-openstack-platform-overcloud-for-stf_completing-the-stf-configuration">Configuring OpenStack overcloud for STF</h3>
<div class="paragraph">
<p>To configure collectd and Apache&#160;Qpid&#160;Dispatch&#160;Router, complete the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a file and name it <code>metrics-collectd-qdr-overrides.yaml</code>. Save the file in the <code>/home/stack/</code> directory.</p>
</li>
<li>
<p>By default, the collectd plug-ins <code>disk</code>, <code>interface</code>, <code>load</code>, <code>memory</code>, <code>processes</code>, and <code>tcpconns</code> are enabled. To enable additional plug-ins, use <code>CollectdExtraPlugins</code>. To clarify the plug-ins that are available, list the default plug-ins.</p>
</li>
<li>
<p>For deployments that use Open vSwitch, add <code>ovs_stats</code> to the <code>CollectdExtraPlugins</code> list. To monitor the disk usage, add the <code>df</code> plug-in. The <code>virt</code> plug-in is enabled on overcloud nodes that run the <code>libvirt</code> service by default. The following example plug-in configuration, added to <code>metrics-collectd-qdr-overrides.yaml</code>, is for the <code>virt</code> plug-in:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>ExtraConfig:
    collectd::plugin::virt::connection: "qemu:///system"
    collectd::plugin::virt::hostname_format: "hostname uuid"</pre>
</div>
</div>
<div class="paragraph">
<p>The following sample is from the <code>metrics-collectd-qdr-overrides.yaml</code> environment file that you can pass to a OpenStack&#160;Queens TripleO deployment to configure collectd and Apache&#160;Qpid&#160;Dispatch&#160;Router.</p>
</div>
<div class="listingblock">
<div class="title">metrics-collectd-qdr-overrides.yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">---
parameter_defaults:
  CollectdAmqpInstances:
    telemetry:
      format: JSON
      presettle: true
  CollectdDefaultPollingInterval: 1
  CollectdConnectionType: amqp1
  CollectdExtraPlugins:
  - cpu
  - df
  - hugepages
  - ovs_stats
  - load
  - uptime
  MetricsQdrConnectors:
  - host: qdr-white-port-5671-sa-telemetry.apps.service-assurance.tld
    port: 443
    role: edge
    sslProfile: sslProfile
    verifyHostname: false
  MetricsQdrSSLProfiles:
  - name: sslProfile</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the <code>metrics-collectd-qdr-overrides.yaml</code> file to configure the plug-ins for collectd and include the <code>amqp1.so</code> module to connect to Apache&#160;Qpid&#160;Dispatch&#160;Router. Use the <code>CollectdExtraPlugins</code> parameter to enable additional plug-ins. Use the <code>MetricsQdrConnectors</code> parameter to configure the connection back to the STF server where data is streamed for storage in the appropriate storage back end provided by STF.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-red-hat-openstack-platform-overcloud-for-stf-events_completing-the-stf-configuration">Configuring the OpenStack overcloud for STF events</h3>
<div class="paragraph">
<p>To enable the collection of events on the client side, follow the steps in
<a href="#configuring-red-hat-openstack-platform-overcloud-for-stf_completing-the-stf-configuration">Configuring OpenStack overcloud for STF</a> and use the following sample from <code>metrics-collectd-qdr-overrides.yaml</code> for this procedure.
You can pass the <code>metrics-collectd-qdr-overrides.yaml</code> environment file to a OpenStack&#160;Queens TripleO deployment to configure and setup collectd and Apache&#160;Qpid&#160;Dispatch&#160;Router.</p>
</div>
<div class="listingblock">
<div class="title">metrics-collectd-qdr-overrides.yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">---
parameter_defaults:
  CollectdAmqpInstances:
  notify: # Create a `notify` address for {MessageBus} that transmits the events.
    format: JSON # The format of the messages is in JSON.
    presettle: false
    notify: true # Mark these messages as being events in the VES format.
  telemetry:
    format: JSON
    presettle: true
  CollectdDefaultPollingInterval: 1
  CollectdConnectionType: amqp1
  CollectdExtraPlugins:
  - cpu
  - df
  - hugepages
  - ovs_stats
  - ovs_events # Enable an events plugin for OVS events.
  - connectivity # Enable an events plugin for network connectivity events.
  - load
  - uptime
  MetricsQdrConnectors:
  - host: qdr-white-port-5671-sa-telemetry.apps.service-assurance.tld
    port: 443
    role: edge
    sslProfile: sslProfile
    verifyHostname: false
  MetricsQdrSSLProfiles:
  - name: sslProfile</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="updating-red-hat-openstack-platform-overcloud-for-stf_completing-the-stf-configuration">Updating OpenStack overcloud for STF</h3>
<div class="paragraph">
<p>The procedure in section <a href="#configuring-red-hat-openstack-platform-overcloud-for-stf-events_completing-the-stf-configuration">Configuring the OpenStack overcloud for STF events</a> includes the instruction to create the <code>metrics-collectd-qdr-overrides.yaml</code> environment file. The following example uses the <code>metrics-collectd-qdr-overrides.yaml</code> file in the <code>openstack overcloud deploy</code> command with the environment files that you must add to the command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>openstack overcloud deploy \
--timeout 100 \
--templates /usr/share/openstack-tripleo-heat-templates \
--stack overcloud \
--libvirt-type kvm \
--ntp-server 192.168.1.254 \
-e /home/stack/virt/config_lvm.yaml \
-e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml \
-e /home/stack/virt/network/network-environment.yaml \
-e /home/stack/virt/hostnames.yml \
-e /home/stack/virt/debug.yaml \
-e /home/stack/virt/nodes_data.yaml \
--environment-file /usr/share/openstack-tripleo-heat-templates/environments/metrics-collectd-qdr.yaml \
-e /home/stack/virt/metrics-collectd-qdr-overrides.yaml \
-e /home/stack/virt/docker-images.yaml \
--log-file overcloud_deployment_42.log</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The SSL certificates for the <code>MetricsQdr</code> service are configured to generate
only for the <code>InternalApi</code> network but the default Ceph role does not use the
<code>InternalApi</code> network. To deploy STF client when InternalTLS is enabled, use
this workaround: pass the custom Ceph role, which has an <code>InternalApi</code> network, to
the <code>openstack overcloud deploy</code> command when InternalTLS is enabled in the deployment.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="deploying-with-routed-l3-networks_completing-the-stf-configuration">Deploying with routed L3 networks</h4>
<div class="paragraph">
<p>If your nodes are on a separate network from the default <code>InternalApi</code> network that the Controller nodes use, you must make several changes so that Apache&#160;Qpid&#160;Dispatch&#160;Router can transport data to the STF server instance. This scenario is typical in a Spine and Leaf or a Distributed Compute Node (DCN) topology.</p>
</div>
<div class="paragraph">
<p>Add the following configuration example under the <code>ExtraConfig</code> section for each compute node. In this example, <code>internal_apiN</code> is the network that the Compute node <em>N</em> is connected to, where <em>N</em> represents a value that is different from the default internal API network name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">ComputeNExtraConfig:
   tripleo::profile::base::metrics::collectd::amqp_host: "%{hiera('internal_apiN')}"
   tripleo::profile::base::metrics::qdr::listener_addr: "%{hiera('internal_apiN')}"</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about DCN configuration, see the <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html-single/spine_leaf_networking/">Spine Leaf Networking</a> guide.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="conclusion_completing-the-stf-configuration">Completion of server-side installation</h3>
<div class="paragraph">
<p>After you complete server-side installation of STF, you must configure the STF data collection to collect data and send it back to the STF storage domain.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-stf-components_completing-the-stf-configuration">Configuring Service&#160;Telemetry&#160;Framework data collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you install the Service&#160;Telemetry&#160;Framework (STF) server-side components, configure collectd to collect data and store it on the cloud platform side.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy the <code>/usr/share/openstack-tripleo-heat-templates/environments/collectd-environment.yaml</code> file to your local directory, for example, /home/templates/custom.  Open the file and set additional parameters in the <code>ExtraConfig</code> section:</p>
<div class="listingblock">
<div class="content">
<pre>parameter_defaults:
   CollectdExtraPlugins:
     - disk
     - df
     - virt

   ExtraConfig:
     collectd::plugin::virt::connection: "qemu:///system"
     collectd::plugin::virt::hostname_format: "hostname uuid"</pre>
</div>
</div>
<div class="paragraph">
<p>By default, collectd includes the disk, interface, load, memory, processes, and tcpconns plug-ins. You can add additional plug-ins using the <code>CollectdExtraPlugins</code> parameter. You can also provide additional configuration information for the <code>CollectdExtraPlugins</code> using the <code>ExtraConfig</code> option as shown. The <code>CollectdExtraPlugins</code> example adds the virt plug-in and configures the connection string and the hostname format.</p>
</div>
</li>
<li>
<p>Include the modified YAML files in the <code>openstack overcloud deploy</code> command:</p>
<div class="listingblock">
<div class="content">
<pre>$ openstack overcloud deploy
--templates /home/templates/environments/collectd.yaml \
-e /home/templates/custom/collectd-environment.yaml</pre>
</div>
</div>
<div class="paragraph">
<p>To view the collectd plug-ins and configurations, see <a href="#appe-stf-collectd-plugins">collectd plug-ins</a>.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connecting-multiple-clouds-to-stf_configuring-stf-components">Connecting multiple clouds to Service&#160;Telemetry&#160;Framework</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuring-multiple-clouds_connecting-multiple-clouds-to-stf">Configuring multiple clouds</h3>
<div class="paragraph">
<p>To configure multiple OpenStack clouds to target a single instance of Service&#160;Telemetry&#160;Framework (STF), complete the following tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Plan the AMQP address prefixes to use for each cloud. For more information, see <a href="#planning-amqp-address-prefixes_connecting-multiple-clouds-to-stf">Planning AMQP address prefixes</a>.</p>
</li>
<li>
<p>Deploy metrics and events consumer Smart Gateways for each cloud to listen on
the corresponding address prefixes. For more information, see <a href="#deploying-smart-gateways_connecting-multiple-clouds-to-stf">Deploying Smart Gateways</a>.</p>
</li>
<li>
<p>Optional: Delete the default Smart Gateways if they are no longer needed. For more information, see <a href="#deleting-the-default-smart-gateways_connecting-multiple-clouds-to-stf">Deleting the default Smart Gateways</a>.</p>
</li>
<li>
<p>Configure each cloud to send its metrics and events to STF on the
correct address. For more information, see <a href="#updating-collectd-configuration_connecting-multiple-clouds-to-stf">Updating collectd configuration</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This diagram demonstrates how two OpenStack clouds connect to STF.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/OpenStack_STF_Overview_37_0919_topology.png" alt="OpenStack STF Overview 37 0919 topology"/>
</div>
</div>
</div>
<div class="sect2">
<h3 id="planning-amqp-address-prefixes_connecting-multiple-clouds-to-stf">Planning AMQP address prefixes</h3>
<div class="paragraph">
<p>By default, OpenStack nodes send data to the <code>collectd/telemetry</code> and <code>collectd/notify</code> addresses on the AMQP bus and STF listens on those addresses for monitoring data. To support multiple clouds and to identify which cloud generated the monitoring data, configure each cloud to send data to a unique address. It is recommended that you prefix a cloud identifier to the second part of the
address. The following example list shows some of the addresses and identifiers you can include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>collectd/cloud1-telemetry</p>
</li>
<li>
<p>collectd/cloud1-notify</p>
</li>
<li>
<p>collectd/cloud2-telemetry</p>
</li>
<li>
<p>collectd/cloud2-notify</p>
</li>
<li>
<p>collectd/us-east-1-telemetry</p>
</li>
<li>
<p>collectd/us-west-3-telemetry</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deploying-smart-gateways_connecting-multiple-clouds-to-stf">Deploying Smart Gateways</h3>
<div class="paragraph">
<p>You must deploy two Smart Gateways for each cloud; one for metrics and one for events. Configure both Smart Gateways to listen on the AMQP address that you define for the corresponding cloud.</p>
</div>
<div class="paragraph">
<p>When you deploy STF for the first time, two Smart Gateway manifests are created that define the two initial Smart Gateways for a single cloud. When you deploy multiple Smart Gateways, you must edit these manifests to define the Smart Gateways that handle the metrics and the events data for each cloud.</p>
</div>
<div class="paragraph">
<p>To deploy multiple Smart Gateways, complete the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy the following Smart Gateway manifests and edit them to define a Smart Gateway for each cloud: <code>deploy/service-assurance/smartgateway/metrics-smartgateway.yaml</code> and <code>deploy/service-assurance/smartgateway/events-smartgateway.yaml</code>. For more information, see <a href="#example-manifests_connecting-multiple-clouds-to-stf">Example manifests</a>.</p>
<div class="listingblock">
<div class="content">
<pre>pushd deploy/service-assurance/smartgateway/
cp events-smartgateway.yaml events-smartgateway-multicloud.yaml
cp metrics-smartgateway.yaml metrics-smartgateway-multicloud.yaml
vi events-smartgateway-multicloud.yaml metrics-smartgateway-multicloud.yaml
popd</pre>
</div>
</div>
</li>
<li>
<p>Deploy your new Smart Gateways.</p>
<div class="listingblock">
<div class="content">
<pre>oc create -f deploy/service-assurance/smartgateway/</pre>
</div>
</div>
</li>
<li>
<p>Verify that each Smart Gateway is running. This can take several minutes
depending on the number of Smart Gateways.</p>
<div class="listingblock">
<div class="content">
<pre>oc get po -l app=smart-gateway</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="example-manifests_connecting-multiple-clouds-to-stf">Example manifests</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The content in the following examples might be different to the file content in your deployment. Copy the manifests in your deployment.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ensure that the <code>name</code> and <code>amqp_url</code> parameters of each Smart Gateway match the names you want to use for your clouds. For more information, see <a href="#planning-amqp-address-prefixes_connecting-multiple-clouds-to-stf">Planning AMQP address prefixes</a>.</p>
</div>
<div class="listingblock">
<div class="title">metrics-smartgateway.yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: smartgateway.infra.watch/v1alpha1
kind: SmartGateway
metadata:
  name: cloud1-telemetry
spec:
  size: 1
  amqp_url: qdr-white.sa-telemetry.svc.cluster.local:5672/collectd/cloud1-telemetry
  debug: "false"
  container_image_path: "docker-registry.default.svc:5000/sa-telemetry/smart-gateway:latest"
  service_type: "metrics"

---
apiVersion: smartgateway.infra.watch/v1alpha1
kind: SmartGateway
metadata:
  name: cloud2-telemetry
spec:
  size: 1
  amqp_url: qdr-white.sa-telemetry.svc.cluster.local:5672/collectd/cloud2-telemetry
  debug: "false"
  container_image_path: "docker-registry.default.svc:5000/sa-telemetry/smart-gateway:latest"
  service_type: "metrics"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">events-smartgateway.yaml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">---
apiVersion: smartgateway.infra.watch/v1alpha1
kind: SmartGateway
metadata:
  name: cloud1-notify
spec:
  size: 1
  amqp_url: "qdr-white.sa-telemetry.svc.cluster.local:5672/collectd/cloud1-notify"
  service_type: events
  debug: "false"
  elastic_url: "https://elasticsearch.sa-telemetry.svc:9200"
  container_image_path: docker-registry.default.svc:5000/sa-telemetry/smart-gateway:latest
  use_tls: "true"
  tls_client_cert: /config/certs/admin-cert
  tls_client_key: /config/certs/admin-key
  tls_ca_cert: /config/certs/admin-ca
  reset_index: "true"

---
apiVersion: smartgateway.infra.watch/v1alpha1
kind: SmartGateway
metadata:
  name: cloud2-notify
spec:
  size: 1
  amqp_url: "qdr-white.sa-telemetry.svc.cluster.local:5672/collectd/cloud2-notify"
  service_type: events
  debug: "false"
  elastic_url: "https://elasticsearch.sa-telemetry.svc:9200"
  container_image_path: docker-registry.default.svc:5000/sa-telemetry/smart-gateway:latest
  use_tls: "true"
  tls_client_cert: /config/certs/admin-cert
  tls_client_key: /config/certs/admin-key
  tls_ca_cert: /config/certs/admin-ca
  reset_index: "true"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deleting-the-default-smart-gateways_connecting-multiple-clouds-to-stf">Deleting the default Smart Gateways</h3>
<div class="paragraph">
<p>When you have configured STF for multiple clouds, you can delete the
default Smart Gateways if they are no longer in use.</p>
</div>
<div class="paragraph">
<p>To delete the Smart Gateways, complete the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Delete the default Smart Gateways from the cluster:</p>
<div class="listingblock">
<div class="content">
<pre>oc delete smartgateway cloud1-notify cloud1-telemetry</pre>
</div>
</div>
</li>
<li>
<p>Optional: Delete the default manifests:</p>
<div class="listingblock">
<div class="content">
<pre>rm deploy/service-assurance/smartgateway/{events,metrics}-smartgateway.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To regenerate the default manifests, re-run the <a href="#generating-the-manifests-for-stf_installing-the-core-components-of-stf">Generating the manifests for STF</a> step.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="updating-collectd-configuration_connecting-multiple-clouds-to-stf">Updating collectd configuration</h3>
<div class="paragraph">
<p>To label traffic according to the cloud of origin, you must update the collectd configuration with cloud-specific instance names.  Edit your OpenStack&#160;Queens TripleO configuration to include the following <code>CollectdAmqpInstances</code>.</p>
</div>
<div class="listingblock">
<div class="title">metrics-collectd-qdr.yaml</div>
<div class="content">
<pre>parameter_defaults:
   CollectdAmqpInstances:
       cloud1-telemetry:
           format: JSON
           presettle: true
       cloud1-notify:
           notify: true
           format: JSON
           presettle: false</pre>
</div>
</div>
<div class="paragraph">
<p>For more information about how to edit and redeploy this configuration, see <a href="#configuring-red-hat-openstack-platform-overcloud-for-stf_completing-the-stf-configuration">Configuring OpenStack overcloud for STF</a> and <a href="#updating-red-hat-openstack-platform-overcloud-for-stf_completing-the-stf-configuration">Updating OpenStack overcloud for STF</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="querying-metrics-data-from-multiple-clouds_connecting-multiple-clouds-to-stf">Querying metrics data from multiple clouds</h3>
<div class="paragraph">
<p>Data stored in Prometheus has a "service" label attached according to the
Smart Gateway it was scraped from. You can use this label to query data from a
specific cloud.</p>
</div>
<div class="paragraph">
<p>To query data from a specific cloud, use a Prometheus <code>promql</code> query that matches the associated "service" label; for example: <code>sa_collectd_uptime{service="cloud1-smartgateway"}</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="using-the-amq-interconnect-message-bus_connecting-multiple-clouds-to-stf">Using the Apache&#160;Qpid&#160;Dispatch&#160;Router message bus</h3>
<div class="paragraph">
<p>To use Apache&#160;Qpid&#160;Dispatch&#160;Router, see the
<a href="https://access.redhat.com/documentation/en-us/red_hat_amq/7.0/html-single/using_amq_interconnect/index">Using AMQ Interconnect</a> guide.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appe-stf-collectd-plugins">Appendix A: collectd plug-ins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section contains a complete list of collectd plug-ins and configurations for OpenStack Queens.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-aggregation</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::aggregation::aggregators</p>
</li>
<li>
<p>collectd::plugin::aggregation::interval</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-amqp1</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-apache</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::apache::instances (ex.: {<em>localhost</em> &#8658; {<em>url</em> &#8658; <em><a href="http://localhost/mod_status?auto" class="bare">http://localhost/mod_status?auto</a></em>}})</p>
</li>
<li>
<p>collectd::plugin::apache::interval</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-apcups</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-battery</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::battery::values_percentage</p>
</li>
<li>
<p>collectd::plugin::battery::report_degraded</p>
</li>
<li>
<p>collectd::plugin::battery::query_state_fs</p>
</li>
<li>
<p>collectd::plugin::battery::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ceph</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::ceph::daemons</p>
</li>
<li>
<p>collectd::plugin::ceph::longrunavglatency</p>
</li>
<li>
<p>collectd::plugin::ceph::convertspecialmetrictypes</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-cgroups</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::cgroups::ignore_selected</p>
</li>
<li>
<p>collectd::plugin::cgroups::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-conntrack</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-contextswitch</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::contextswitch::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-cpu</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::cpu::reportbystate</p>
</li>
<li>
<p>collectd::plugin::cpu::reportbycpu</p>
</li>
<li>
<p>collectd::plugin::cpu::valuespercentage</p>
</li>
<li>
<p>collectd::plugin::cpu::reportnumcpu</p>
</li>
<li>
<p>collectd::plugin::cpu::reportgueststate</p>
</li>
<li>
<p>collectd::plugin::cpu::subtractgueststate</p>
</li>
<li>
<p>collectd::plugin::cpu::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-cpufreq</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-cpusleep</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-csv</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::csv::datadir</p>
</li>
<li>
<p>collectd::plugin::csv::storerates</p>
</li>
<li>
<p>collectd::plugin::csv::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-df</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::df::devices</p>
</li>
<li>
<p>collectd::plugin::df::fstypes</p>
</li>
<li>
<p>collectd::plugin::df::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::df::mountpoints</p>
</li>
<li>
<p>collectd::plugin::df::reportbydevice</p>
</li>
<li>
<p>collectd::plugin::df::reportinodes</p>
</li>
<li>
<p>collectd::plugin::df::reportreserved</p>
</li>
<li>
<p>collectd::plugin::df::valuesabsolute</p>
</li>
<li>
<p>collectd::plugin::df::valuespercentage</p>
</li>
<li>
<p>collectd::plugin::df::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-disk</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::disk::disks</p>
</li>
<li>
<p>collectd::plugin::disk::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::disk::udevnameattr</p>
</li>
<li>
<p>collectd::plugin::disk::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-entropy</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::entropy::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ethstat</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::ethstat::interfaces</p>
</li>
<li>
<p>collectd::plugin::ethstat::maps</p>
</li>
<li>
<p>collectd::plugin::ethstat::mappedonly</p>
</li>
<li>
<p>collectd::plugin::ethstat::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-exec</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::exec::commands</p>
</li>
<li>
<p>collectd::plugin::exec::commands_defaults</p>
</li>
<li>
<p>collectd::plugin::exec::globals</p>
</li>
<li>
<p>collectd::plugin::exec::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-fhcount</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::fhcount::valuesabsolute</p>
</li>
<li>
<p>collectd::plugin::fhcount::valuespercentage</p>
</li>
<li>
<p>collectd::plugin::fhcount::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-filecount</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::filecount::directories</p>
</li>
<li>
<p>collectd::plugin::filecount::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-fscache</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-hddtemp</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::hddtemp::host</p>
</li>
<li>
<p>collectd::plugin::hddtemp::port</p>
</li>
<li>
<p>collectd::plugin::hddtemp::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-hugepages</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::hugepages::report_per_node_hp</p>
</li>
<li>
<p>collectd::plugin::hugepages::report_root_hp</p>
</li>
<li>
<p>collectd::plugin::hugepages::values_pages</p>
</li>
<li>
<p>collectd::plugin::hugepages::values_bytes</p>
</li>
<li>
<p>collectd::plugin::hugepages::values_percentage</p>
</li>
<li>
<p>collectd::plugin::hugepages::interval</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-intel_rdt</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-interface</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::interface::interfaces</p>
</li>
<li>
<p>collectd::plugin::interface::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::interface::reportinactive</p>
</li>
<li>
<p>Collectd::plugin::interface::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ipc</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ipmi</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::ipmi::ignore_selected</p>
</li>
<li>
<p>collectd::plugin::ipmi::notify_sensor_add</p>
</li>
<li>
<p>collectd::plugin::ipmi::notify_sensor_remove</p>
</li>
<li>
<p>collectd::plugin::ipmi::notify_sensor_not_present</p>
</li>
<li>
<p>collectd::plugin::ipmi::sensors</p>
</li>
<li>
<p>collectd::plugin::ipmi::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-irq</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::irq::irqs</p>
</li>
<li>
<p>collectd::plugin::irq::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::irq::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-load</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::load::report_relative</p>
</li>
<li>
<p>collectd::plugin::load::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-logfile</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::logfile::log_level</p>
</li>
<li>
<p>collectd::plugin::logfile::log_file</p>
</li>
<li>
<p>collectd::plugin::logfile::log_timestamp</p>
</li>
<li>
<p>collectd::plugin::logfile::print_severity</p>
</li>
<li>
<p>collectd::plugin::logfile::interval</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-madwifi</strong></p>
</div>
<div class="paragraph">
<p><strong>collectd-mbmon</strong></p>
</div>
<div class="paragraph">
<p><strong>collectd-md</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-memcached</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::memcached::instances</p>
</li>
<li>
<p>collectd::plugin::memcached::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-memory</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::memory::valuesabsolute</p>
</li>
<li>
<p>collectd::plugin::memory::valuespercentage</p>
</li>
<li>
<p>collectd::plugin::memory::interval
collectd-multimeter</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-multimeter</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-mysql</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::mysql::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-netlink</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::netlink::interfaces</p>
</li>
<li>
<p>collectd::plugin::netlink::verboseinterfaces</p>
</li>
<li>
<p>collectd::plugin::netlink::qdiscs</p>
</li>
<li>
<p>collectd::plugin::netlink::classes</p>
</li>
<li>
<p>collectd::plugin::netlink::filters</p>
</li>
<li>
<p>collectd::plugin::netlink::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::netlink::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-network</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::network::timetolive</p>
</li>
<li>
<p>collectd::plugin::network::maxpacketsize</p>
</li>
<li>
<p>collectd::plugin::network::forward</p>
</li>
<li>
<p>collectd::plugin::network::reportstats</p>
</li>
<li>
<p>collectd::plugin::network::listeners</p>
</li>
<li>
<p>collectd::plugin::network::servers</p>
</li>
<li>
<p>collectd::plugin::network::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-nfs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::nfs::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ntpd</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::ntpd::host</p>
</li>
<li>
<p>collectd::plugin::ntpd::port</p>
</li>
<li>
<p>collectd::plugin::ntpd::reverselookups</p>
</li>
<li>
<p>collectd::plugin::ntpd::includeunitid</p>
</li>
<li>
<p>collectd::plugin::ntpd::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-numa</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-olsrd</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-openvpn</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::openvpn::statusfile</p>
</li>
<li>
<p>collectd::plugin::openvpn::improvednamingschema</p>
</li>
<li>
<p>collectd::plugin::openvpn::collectcompression</p>
</li>
<li>
<p>collectd::plugin::openvpn::collectindividualusers</p>
</li>
<li>
<p>collectd::plugin::openvpn::collectusercount</p>
</li>
<li>
<p>collectd::plugin::openvpn::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ovs_events</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::ovs_events::address</p>
</li>
<li>
<p>collectd::plugin::ovs_events::dispatch</p>
</li>
<li>
<p>collectd::plugin::ovs_events::interfaces</p>
</li>
<li>
<p>collectd::plugin::ovs_events::send_notification</p>
</li>
<li>
<p>collectd::plugin::ovs_events::$port</p>
</li>
<li>
<p>collectd::plugin::ovs_events::socket</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ovs_stats</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::ovs_stats::address</p>
</li>
<li>
<p>collectd::plugin::ovs_stats::bridges</p>
</li>
<li>
<p>collectd::plugin::ovs_stats::port</p>
</li>
<li>
<p>collectd::plugin::ovs_stats::socket</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-ping</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::ping::hosts</p>
</li>
<li>
<p>collectd::plugin::ping::timeout</p>
</li>
<li>
<p>collectd::plugin::ping::ttl</p>
</li>
<li>
<p>collectd::plugin::ping::source_address</p>
</li>
<li>
<p>collectd::plugin::ping::device</p>
</li>
<li>
<p>collectd::plugin::ping::max_missed</p>
</li>
<li>
<p>collectd::plugin::ping::size</p>
</li>
<li>
<p>collectd::plugin::ping::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-powerdns</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::powerdns::interval</p>
</li>
<li>
<p>collectd::plugin::powerdns::servers</p>
</li>
<li>
<p>collectd::plugin::powerdns::recursors</p>
</li>
<li>
<p>collectd::plugin::powerdns::local_socket</p>
</li>
<li>
<p>collectd::plugin::powerdns::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-processes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::processes::processes</p>
</li>
<li>
<p>collectd::plugin::processes::process_matches</p>
</li>
<li>
<p>collectd::plugin::processes::collect_context_switch</p>
</li>
<li>
<p>collectd::plugin::processes::collect_file_descriptor</p>
</li>
<li>
<p>collectd::plugin::processes::collect_memory_maps</p>
</li>
<li>
<p>collectd::plugin::powerdns::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-protocols</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::protocols::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::protocols::values</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-python</strong></p>
</div>
<div class="paragraph">
<p><strong>collectd-serial</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-smart</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::smart::disks</p>
</li>
<li>
<p>collectd::plugin::smart::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::smart::interval</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-snmp_agent</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-statsd</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::statsd::host</p>
</li>
<li>
<p>collectd::plugin::statsd::port</p>
</li>
<li>
<p>collectd::plugin::statsd::deletecounters</p>
</li>
<li>
<p>collectd::plugin::statsd::deletetimers</p>
</li>
<li>
<p>collectd::plugin::statsd::deletegauges</p>
</li>
<li>
<p>collectd::plugin::statsd::deletesets</p>
</li>
<li>
<p>collectd::plugin::statsd::countersum</p>
</li>
<li>
<p>collectd::plugin::statsd::timerpercentile</p>
</li>
<li>
<p>collectd::plugin::statsd::timerlower</p>
</li>
<li>
<p>collectd::plugin::statsd::timerupper</p>
</li>
<li>
<p>collectd::plugin::statsd::timersum</p>
</li>
<li>
<p>collectd::plugin::statsd::timercount</p>
</li>
<li>
<p>collectd::plugin::statsd::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-swap</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::swap::reportbydevice</p>
</li>
<li>
<p>collectd::plugin::swap::reportbytes</p>
</li>
<li>
<p>collectd::plugin::swap::valuesabsolute</p>
</li>
<li>
<p>collectd::plugin::swap::valuespercentage</p>
</li>
<li>
<p>collectd::plugin::swap::reportio</p>
</li>
<li>
<p>collectd::plugin::swap::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-syslog</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::syslog::log_level</p>
</li>
<li>
<p>collectd::plugin::syslog::notify_level</p>
</li>
<li>
<p>collectd::plugin::syslog::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-table</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::table::tables</p>
</li>
<li>
<p>collectd::plugin::table::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-tail</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::tail::files</p>
</li>
<li>
<p>collectd::plugin::tail::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-tail_csv</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::tail_csv::metrics</p>
</li>
<li>
<p>collectd::plugin::tail_csv::files</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-tcpconns</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::tcpconns::localports</p>
</li>
<li>
<p>collectd::plugin::tcpconns::remoteports</p>
</li>
<li>
<p>collectd::plugin::tcpconns::listening</p>
</li>
<li>
<p>collectd::plugin::tcpconns::allportssummary</p>
</li>
<li>
<p>collectd::plugin::tcpconns::interval</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-ted</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-thermal</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::thermal::devices</p>
</li>
<li>
<p>collectd::plugin::thermal::ignoreselected</p>
</li>
<li>
<p>collectd::plugin::thermal::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-threshold</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::threshold::types</p>
</li>
<li>
<p>collectd::plugin::threshold::plugins</p>
</li>
<li>
<p>collectd::plugin::threshold::hosts</p>
</li>
<li>
<p>collectd::plugin::threshold::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-turbostat</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::turbostat::core_c_states</p>
</li>
<li>
<p>collectd::plugin::turbostat::package_c_states</p>
</li>
<li>
<p>collectd::plugin::turbostat::system_management_interrupt</p>
</li>
<li>
<p>collectd::plugin::turbostat::digital_temperature_sensor</p>
</li>
<li>
<p>collectd::plugin::turbostat::tcc_activation_temp</p>
</li>
<li>
<p>collectd::plugin::turbostat::running_average_power_limit</p>
</li>
<li>
<p>collectd::plugin::turbostat::logical_core_names</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-unixsock</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-uptime</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::uptime::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-users</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::users::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-uuid</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::uuid::uuid_file</p>
</li>
<li>
<p>collectd::plugin::uuid::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-virt</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::virt::connection</p>
</li>
<li>
<p>collectd::plugin::virt::refresh_interval</p>
</li>
<li>
<p>collectd::plugin::virt::domain</p>
</li>
<li>
<p>collectd::plugin::virt::block_device</p>
</li>
<li>
<p>collectd::plugin::virt::interface_device</p>
</li>
<li>
<p>collectd::plugin::virt::ignore_selected</p>
</li>
<li>
<p>collectd::plugin::virt::hostname_format</p>
</li>
<li>
<p>collectd::plugin::virt::interface_format</p>
</li>
<li>
<p>collectd::plugin::virt::extra_stats</p>
</li>
<li>
<p>collectd::plugin::virt::interval</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-vmem</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::vmem::verbose</p>
</li>
<li>
<p>collectd::plugin::vmem::interval</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>collectd-vserver</strong></p>
</div>
<div class="paragraph">
<p><strong>collectd-wireless</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collectd-write_graphite</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::write_graphite::carbons</p>
</li>
<li>
<p>collectd::plugin::write_graphite::carbon_defaults</p>
</li>
<li>
<p>collectd::plugin::write_graphite::globals</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-write_kafka</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::write_kafka::kafka_host</p>
</li>
<li>
<p>collectd::plugin::write_kafka::kafka_port</p>
</li>
<li>
<p>collectd::plugin::write_kafka::kafka_hosts</p>
</li>
<li>
<p>collectd::plugin::write_kafka::topics</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-write_log</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>collectd::plugin::write_log::format</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">collectd-zfs_arc</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>None</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-02-13 21:02:48 UTC
</div>
</div>
</body>
</html>